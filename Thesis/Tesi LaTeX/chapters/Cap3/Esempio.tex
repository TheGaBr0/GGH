\subsection{Esempio pratico}
\label{exp:GGH}
Prima di affrontare le varie tipologie di attacchi a GGH, viene mostrato un semplice esempio
(a dimensione 3) di come due entità, rispettivamente Alice e Bob, possano utilizzare questo
crittosistema per scambiare messaggi.
\begin{exmp} (Esempio di funzionamento di GGH)
Sia $\mathbf{R}$ la base privata di Alice definita come:
\begin{equation*}
    \mathbf{R} =
    \begin{bmatrix*}[l]
        \phantom{-}12 & -4 & -1\\
        \phantom{-}1 & \phantom{-}8 & -1\\
        -4 & \phantom{-}1 & \phantom{-}14
    \end{bmatrix*}
    \ \text{ con } \mathcal{H}(\mathbf{R}) = 0.96762
\end{equation*}
Alice procede col generare la sua base pubblica $\mathbf{B}$ moltiplicando $\mathbf{R}$ con una matrice
unimodulare casuale $\mathbf{U}$:
\begin{equation*}
    \mathbf{U} =
    \begin{bmatrix*}[l]
        \phantom{-}12 & -3 & -1\\
        -3 & \phantom{-}1 & \phantom{-}1\\
        -14 & \phantom{-}3 & \phantom{-}0
    \end{bmatrix*}
    \ \text{ quindi } \mathbf{B}=\mathbf{U}\mathbf{R} =
    \begin{bmatrix*}[l]
        \phantom{-}145 & -73 & -23\\
        -39  & \phantom{-}21 & \phantom{-}16\\
        -165  & \phantom{-}80 & \phantom{-}11
    \end{bmatrix*}.
\end{equation*}
E' possibile osservare come $\mathbf{B}$ abbia un rapporto di Hadamard molto basso, più 
precisamente $\mathcal{H}(\mathbf{B}) = 0.07403$. Infine, utilizzando $\sigma = 3$, 
Alice compone le sue due chiavi:
\begin{gather*}
    \mathbf{K}_{private} = \mathbf{R}
    \ \text{ e } \  
    \mathbf{K}_{public} = (\mathbf{B}, \sigma).
\end{gather*}
Bob decide di mandare un messaggio $\mathbf{m} = [-48 \ 29 -76]$ con vettore di errore
$\mathbf{e} = [3 \ 3 \ 3]$. Utilizza quindi la chiave pubblica di Alice e ottiene il 
corrispondente testo cifrato:
\begin{equation*}
    \mathbf{c} =
    \begin{bmatrix*}[l]
        -48 & 29 & -76
    \end{bmatrix*}
    \begin{bmatrix*}[l]
        \phantom{-}145 & -73 & -23\\
        -39  & \phantom{-}21 & \phantom{-}16\\
        -165  & \phantom{-}80 & \phantom{-}11
    \end{bmatrix*}.
    +
    \begin{bmatrix*}[l]
        3 & 3 & 3
    \end{bmatrix*}
    =
    \begin{bmatrix*}[l]
        4452 & -1964 & 735
    \end{bmatrix*}.
\end{equation*}
Alice, una volta ricevuto il messaggio cifrato, è in grado di decifrarlo in maniera efficiente
usando la sua chiave privata. Infatti, avendo a disposizione
\[
    \mathbf{R}^{-1} = 
    \begin{bmatrix*}[l]
        \phantom{-}\frac{113}{1363} & \phantom{-}\frac{55}{1363} & \phantom{-}\frac{12}{1363}\\[6pt]
        -\frac{10}{1363}            & \phantom{-}\frac{164}{1363} & \phantom{-}\frac{11}{1363}\\[6pt]
        \phantom{-}\frac{33}{1363}  & \phantom{-}\frac{4}{1363}   & \phantom{-}\frac{100}{1363}
    \end{bmatrix*}
    \ \text{ e } \ 
    \mathbf{B}^{-1} = 
    \begin{bmatrix*}[l]
        -\frac{1049}{1363} & -\frac{1037}{1363} & -\frac{685}{1363}\\[6pt]
        -\frac{2211}{1363} & -\frac{2200}{1363} & -\frac{1423}{1363}\\[6pt]
        \phantom{-}\frac{345}{1363} & \phantom{-}\frac{445}{1363} & \phantom{-}\frac{198}{1363}
    \end{bmatrix*}
\]
Alice, ottiene il messaggio originale calcolando:
\[
    \mathbf{x} = \lfloor \mathbf{c}\mathbf{R}^{-1}\rceil = 
    \begin{bmatrix*}[l]
        401 & -55 & 77 
    \end{bmatrix*}
    \ \text{ e } \ \mathbf{m} = \mathbf{x}\mathbf{R}\mathbf{B}^{-1} = 
    \begin{bmatrix*}[l]
        -48 & 29 & -76
    \end{bmatrix*}.
\]
Si supponga ora che ci sia una terza persona, chiamata Eve, in ascolto nel canale di 
comunicazione tra Alice e Bob. Eve riesce ad ottenere la chiave pubblica di Alice e il 
messaggio cifrato inviato da Bob. Decide quindi di provare a decifrarlo usando la base 
pubblica invece della privata. 
Dato che non è in possesso della chiave privata di Alice, Eve tenterà la 
decifrazione usando solo la base pubblica $\mathbf{B}$. 
\\
Dato che $\mathbf{B}\mathbf{B}^{-1} = 1$, la tecnica di arrotondamento di Babai  si semplifica 
alla seguente formula:
\[
    \mathbf{m}' = \lfloor \mathbf{c}\mathbf{B}^{-1}\rceil = 
    \begin{bmatrix*}[l]
        -54 & 23 & -80
    \end{bmatrix*}
\]
Il vettore $\mathbf{m}'$ ottenuto presenta evidenti similitudini con il messaggio originale 
$\mathbf{m}$, differenziandosi solo per alcune cifre. 
Sebbene in questo caso l'errore possa apparire quasi trascurabile è importante precisare
che l'esempio è stato presentato in una dimensione molto bassa. Infatti la grandezza dell'errore
è direttamente proporzionale all'aumentare della dimensione delle chiavi usate. 
Di conseguenza, il solo uso della base pubblica, non è sufficiente ad ottenere il messaggio
originale.
\end{exmp}